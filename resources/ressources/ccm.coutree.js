ccm.component({name:"coutree",config:{html:[ccm.store,{local:"template.json"}],jstreelib:[ccm.load,"https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"],jstreecss:[ccm.load,"https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css"],store:[ccm.store,{url:"ws://ccm2.inf.h-brs.de/index.js",store:"coutree"}],key:"test",user:[ccm.instance,"http://kaul.inf.h-brs.de/ccm/components/user2.js"]},Instance:function(){var e=this;e.init=function(t){e.store.onChange=function(){e.render()},t()},e.render=function(t){var n=ccm.helper.element(e);e.store.get(e.key,function(t){function c(t){n.html(ccm.helper.html(e.html.get("main"))),$(".tree").jstree({core:{animation:0,check_callback:!0,themes:{stripes:!0}},types:{"#":{max_children:1,max_depth:4,valid_children:["root"]},root:{icon:"vakata-jstree-7a976d1/static/3.3.1/assets/images/tree_icon.png",valid_children:["default"]},"default":{valid_children:["default","file"]},file:{icon:"glyphicon glyphicon-file",valid_children:[]}},plugins:["contextmenu","dnd","search","state","types","wholerow"]}),$(".tree").on("create_node.jstree",function(n,c){e.user.login(function(){t.node.push({user:e.user.data().key})})})}null===t?e.store.set({key:e.key,main:[]},c):c(t)}),t&&t()}}});